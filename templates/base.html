<!doctype html>
<html data-theme="dark">
<head>
  <meta charset="utf-8" />
  <title>{% block title %}Oracle{% endblock %}</title>

  <style>
    /* ---------- themes ---------- */
    :root[data-theme="light"]{
      --bg:#f7f7f7; --fg:#1d1d1d; --card:#ffffff; --border:#dadada; --muted:#6b6b6b;
    }
    :root[data-theme="dark"]{
      --bg:#0c0c0c; --fg:#ececec; --card:#151515; --border:#333; --muted:#9a9a9a;
    }
    html,body{ margin:0; height:100%; }
    body{
      background:var(--bg); color:var(--fg);
      font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    a{ color:var(--fg); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    /* ---------- layout ---------- */
    .wrap{ max-width:1080px; margin:0 auto; padding:24px 20px; }
    .topbar{ display:flex; flex-direction:column; align-items:center; gap:10px; }
    .brand{ font-weight:800; font-size:42px; letter-spacing:.5px; }
    .nav{ display:flex; gap:18px; align-items:center; }

    .searchbar{ width:100%; max-width:640px; }
    .searchbar input{
      width:100%; padding:12px 14px; border-radius:10px;
      background:var(--card); color:var(--fg); border:1px solid var(--border);
    }

    .btn{
      padding:8px 12px; border-radius:8px; border:1px solid var(--border);
      background:transparent; color:var(--fg); cursor:pointer;
    }

    /* ---------- grid + cards (used on Library page) ---------- */
    .row{ display:grid; gap:24px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); align-items:start; }
    .card{
      background:var(--card); border:1px solid var(--border); border-radius:14px; padding:16px;
      display:flex; flex-direction:column; gap:10px; overflow:hidden;
    }
    .specimen-img{ width:100%; height:220px; object-fit:contain; display:block; }
    img{ max-width:100%; height:auto; }

    .tagline{ color:var(--muted); text-align:center; margin:8px 0 18px; }
  </style>

  <script>
    function toggleTheme(){
      const cur = document.documentElement.getAttribute('data-theme') || 'dark';
      const next = (cur === 'dark') ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('oracle-theme', next);
    }
    (function(){
      const saved = localStorage.getItem('oracle-theme') || 'dark';
      document.documentElement.setAttribute('data-theme', saved);
    })();
  </script>
</head>
<body>
  <div class="wrap">
    <!-- top brand -->
    <div class="topbar">
      <a class="brand" href="/">Oracle</a>

      <!-- search + nav row -->
      <div class="searchbar">
        <input type="text" placeholder="Search specimens..." />
      </div>

      <nav class="nav">
        <a class="btn" href="/scan">Scan</a>
        <a class="btn" href="/specimens">Library</a>
        <button class="btn" onclick="toggleTheme()">Toggle Theme</button>
      </nav>

      <!-- page tagline (can be overridden per page) -->
      {% block tagline %}{% endblock %}
    </div>

    {% block content %}{% endblock %}
  </div>
</body>
</html>
